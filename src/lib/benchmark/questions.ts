import { Question } from "@/types/agent";

export const QUESTIONS: Question[] = [
  // ── Math ──────────────────────────────────────────────────────────────────
  // Easy
  {
    id: "M1",
    subject: "math",
    difficulty: "easy",
    text: "What is $17 \\times 23$?",
    expectedAnswer: "391",
    matchType: "exact",
  },
  {
    id: "M2",
    subject: "math",
    difficulty: "easy",
    text: "What is $\\sum_{k=1}^{10} k$?",
    expectedAnswer: "55",
    matchType: "exact",
  },
  {
    id: "M6",
    subject: "math",
    difficulty: "easy",
    text: "What is $9^2 - 4^2$?",
    expectedAnswer: "65",
    matchType: "exact",
  },
  {
    id: "M11",
    subject: "math",
    difficulty: "easy",
    text: "What is $2^{10}$?",
    expectedAnswer: "1024",
    matchType: "exact",
  },
  {
    id: "M12",
    subject: "math",
    difficulty: "easy",
    text: "What is $3! + 4!$?",
    expectedAnswer: "30",
    matchType: "exact",
  },
  {
    id: "M13",
    subject: "math",
    difficulty: "easy",
    text: "What is $\\sqrt{169}$?",
    expectedAnswer: "13",
    matchType: "exact",
  },
  {
    id: "M14",
    subject: "math",
    difficulty: "easy",
    text: "What is 15% of 80?",
    expectedAnswer: "12",
    matchType: "exact",
  },
  {
    id: "M15",
    subject: "math",
    difficulty: "easy",
    text: "What is $\\frac{3}{4} + \\frac{2}{3}$? Express as a fraction.",
    expectedAnswer: "17/12",
    matchType: "exact",
  },
  {
    id: "M16",
    subject: "math",
    difficulty: "easy",
    text: "What is the perimeter of a rectangle with length 12 and width 5?",
    expectedAnswer: "34",
    matchType: "exact",
  },
  {
    id: "M17",
    subject: "math",
    difficulty: "easy",
    text: "What is the GCD of 48 and 18?",
    expectedAnswer: "6",
    matchType: "exact",
  },
  // Medium
  {
    id: "M3",
    subject: "math",
    difficulty: "medium",
    text: "Solve for $x$:\n$$x^2 - 4x + 3 = 0$$\nList both solutions separated by a comma.",
    expectedAnswer: "1, 3",
    matchType: "includes",
  },
  {
    id: "M4",
    subject: "math",
    difficulty: "medium",
    text: "What is $f'(x)$ if $f(x) = x^3 - 4x^2 + 7x - 2$?",
    expectedAnswer: "3x² - 8x + 7",
    matchType: "includes",
  },
  {
    id: "M7",
    subject: "math",
    difficulty: "medium",
    text: "You invest $1000 at 10% annual interest, compounded annually. What is the total amount after 2 years?",
    expectedAnswer: "1210",
    matchType: "exact",
  },
  {
    id: "M8",
    subject: "math",
    difficulty: "medium",
    text: "If $3x + 7 = 22$, what is $2x$?",
    expectedAnswer: "10",
    matchType: "exact",
  },
  {
    id: "M18",
    subject: "math",
    difficulty: "medium",
    text: "Solve the system:\n$$2x + y = 7$$\n$$x - y = 2$$\nWhat is $x + y$?",
    expectedAnswer: "4",
    matchType: "exact",
  },
  {
    id: "M19",
    subject: "math",
    difficulty: "medium",
    text: "Evaluate:\n$$\\int_0^2 (3x^2 - 2x)\\,dx$$",
    expectedAnswer: "4",
    matchType: "exact",
  },
  {
    id: "M20",
    subject: "math",
    difficulty: "medium",
    text: "A train travels 120 km at 60 km/h, then 120 km at 40 km/h. What is the average speed for the whole journey in km/h?",
    expectedAnswer: "48",
    matchType: "exact",
  },
  {
    id: "M21",
    subject: "math",
    difficulty: "medium",
    text: "What is the $y$-coordinate of the vertex of the parabola $y = x^2 - 6x + 11$?",
    expectedAnswer: "2",
    matchType: "exact",
  },
  {
    id: "M22",
    subject: "math",
    difficulty: "medium",
    text: "What is $\\log_2 64$?",
    expectedAnswer: "6",
    matchType: "exact",
  },
  {
    id: "M23",
    subject: "math",
    difficulty: "medium",
    text: "Let $f(x) = 2x + 1$ and $g(x) = x^2$. What is $f(g(3))$?",
    expectedAnswer: "19",
    matchType: "exact",
  },
  {
    id: "M24",
    subject: "math",
    difficulty: "medium",
    text: "What is the 10th term of the arithmetic sequence $3, 7, 11, 15, \\ldots$?",
    expectedAnswer: "39",
    matchType: "exact",
  },
  // Hard
  {
    id: "M5",
    subject: "math",
    difficulty: "hard",
    text: "A bag contains 5 red balls and 9 blue balls. If you draw 2 balls without replacement, what is $P(\\text{both red})$? Express as a fraction in lowest terms.",
    expectedAnswer: "5/91",
    matchType: "exact",
  },
  {
    id: "M9",
    subject: "math",
    difficulty: "hard",
    text: "A bag has 3 red balls and 7 blue balls. You draw 2 without replacement. What is the probability that the two balls are different colors? Express as a fraction in lowest terms.",
    expectedAnswer: "7/15",
    matchType: "exact",
  },
  {
    id: "M10",
    subject: "math",
    difficulty: "hard",
    text: "What is the last digit of $3^{100}$?",
    expectedAnswer: "1",
    matchType: "exact",
  },
  {
    id: "M25",
    subject: "math",
    difficulty: "hard",
    text: "Find the critical points of $f(x) = x^3 - 3x$. What is the positive critical point?",
    expectedAnswer: "1",
    matchType: "exact",
  },
  {
    id: "M26",
    subject: "math",
    difficulty: "hard",
    text: "Solve for $x$:\n$$2^x = 8^{x-1}$$\nExpress as a fraction.",
    expectedAnswer: "3/2",
    matchType: "exact",
  },
  {
    id: "M27",
    subject: "math",
    difficulty: "hard",
    text: "A projectile's height is given by $h(t) = 20t - 5t^2$. What is the maximum height reached?",
    expectedAnswer: "20",
    matchType: "exact",
  },
  {
    id: "M28",
    subject: "math",
    difficulty: "hard",
    text: "Find the determinant of the matrix:\n$$\\begin{pmatrix} 3 & 1 \\\\ 2 & 4 \\end{pmatrix}$$",
    expectedAnswer: "10",
    matchType: "exact",
  },
  {
    id: "M29",
    subject: "math",
    difficulty: "hard",
    text: "If $f(x) = x \\cdot e^x$, what is $f'(1)$? Simplify fully.",
    expectedAnswer: "2e",
    matchType: "includes",
  },
  {
    id: "M30",
    subject: "math",
    difficulty: "hard",
    text: "A fair coin is flipped 4 times. What is the probability of getting exactly 3 heads? Express as a fraction in lowest terms.",
    expectedAnswer: "1/4",
    matchType: "exact",
  },

  // ── Logic ─────────────────────────────────────────────────────────────────
  // Easy
  {
    id: "L1",
    subject: "logic",
    difficulty: "easy",
    text: "All mammals are warm-blooded. All dogs are mammals. Therefore, all dogs are warm-blooded. Is this argument valid? Answer yes or no.",
    expectedAnswer: "yes",
    matchType: "exact",
  },
  {
    id: "L2",
    subject: "logic",
    difficulty: "easy",
    text: "The ground is wet. When it rains, the ground gets wet. Therefore, it rained. Is this argument logically valid? Answer yes or no.",
    expectedAnswer: "no",
    matchType: "exact",
  },
  {
    id: "L6",
    subject: "logic",
    difficulty: "easy",
    text: "If it's raining, the ground is wet. It is NOT raining. Does it necessarily follow that the ground is dry? Answer yes or no.",
    expectedAnswer: "no",
    matchType: "exact",
  },
  {
    id: "L11",
    subject: "logic",
    difficulty: "easy",
    text: "Some cats are black. Felix is a cat. Does it necessarily follow that Felix is black? Answer yes or no.",
    expectedAnswer: "no",
    matchType: "exact",
  },
  {
    id: "L12",
    subject: "logic",
    difficulty: "easy",
    text: "A is taller than B. B is taller than C. Is A taller than C? Answer yes or no.",
    expectedAnswer: "yes",
    matchType: "exact",
  },
  {
    id: "L13",
    subject: "logic",
    difficulty: "easy",
    text: "You have 12 socks in a drawer: 6 red and 6 blue. You reach in without looking. What is the minimum number of socks you must grab to guarantee a matching pair?",
    expectedAnswer: "3",
    matchType: "exact",
  },
  {
    id: "L14",
    subject: "logic",
    difficulty: "easy",
    text: "If P is true and Q is true, is the statement 'P AND Q' true? Answer yes or no.",
    expectedAnswer: "yes",
    matchType: "exact",
  },
  {
    id: "L15",
    subject: "logic",
    difficulty: "easy",
    text: "'No A is B' is given as true. Is it possible that some A is B? Answer yes or no.",
    expectedAnswer: "no",
    matchType: "exact",
  },
  {
    id: "L16",
    subject: "logic",
    difficulty: "easy",
    text: "All squares are rectangles. All rectangles have 4 sides. Do all squares have 4 sides? Answer yes or no.",
    expectedAnswer: "yes",
    matchType: "exact",
  },
  {
    id: "L17",
    subject: "logic",
    difficulty: "easy",
    text: "You roll a fair 6-sided die. Is getting a 6 more likely than getting an odd number? Answer yes or no.",
    expectedAnswer: "no",
    matchType: "exact",
  },
  // Medium
  {
    id: "L3",
    subject: "logic",
    difficulty: "medium",
    text: "Alice, Bob, and Carol each have a different pet: a cat, a dog, and a fish. Alice does not have the dog. Bob does not have the cat or the dog. Who has the cat?",
    expectedAnswer: "alice",
    matchType: "exact",
  },
  {
    id: "L4",
    subject: "logic",
    difficulty: "medium",
    text: "Five people sit in a row. Ann is in seat 2. Ben is immediately to Ann's right. Carl is in the last seat. Dave is between Carl and Ben. What seat is Dave in?",
    expectedAnswer: "4",
    matchType: "exact",
  },
  {
    id: "L7",
    subject: "logic",
    difficulty: "medium",
    text: "All A are B. Some B are C. Can we logically conclude that some A are C? Answer yes or no.",
    expectedAnswer: "no",
    matchType: "exact",
  },
  {
    id: "L8",
    subject: "logic",
    difficulty: "medium",
    text: "On an island of truth-tellers and liars, person A says: 'At least one of us is a knight (truth-teller).' Is A a knight or a liar? Answer knight or liar.",
    expectedAnswer: "knight",
    matchType: "exact",
  },
  {
    id: "L18",
    subject: "logic",
    difficulty: "medium",
    text: "Alice, Bob, and Carol each play exactly one sport: tennis, soccer, or basketball. Alice doesn't play soccer. Bob doesn't play tennis or basketball. Carol doesn't play basketball. What sport does Alice play?",
    expectedAnswer: "basketball",
    matchType: "exact",
  },
  {
    id: "L19",
    subject: "logic",
    difficulty: "medium",
    text: "You have 9 balls that look identical; one is slightly heavier than the others. Using a balance scale, what is the minimum number of weighings guaranteed to find the heavier ball?",
    expectedAnswer: "2",
    matchType: "exact",
  },
  {
    id: "L20",
    subject: "logic",
    difficulty: "medium",
    text: "On an island, knights always tell the truth and knaves always lie. A says: 'I am a knight or B is a knave.' B says: 'A is a knight.' Is A a knight or knave? Answer knight or knave.",
    expectedAnswer: "knight",
    matchType: "exact",
  },
  {
    id: "L21",
    subject: "logic",
    difficulty: "medium",
    text: "In a round-robin tournament with 5 players, every player plays every other player exactly once. How many total games are played?",
    expectedAnswer: "10",
    matchType: "exact",
  },
  {
    id: "L22",
    subject: "logic",
    difficulty: "medium",
    text: "Three boxes are labeled 'GG' (two gold), 'SS' (two silver), and 'GS' (one each), but ALL labels are wrong. You draw one coin from the box labeled 'GS' and it is gold. What is the other coin in that box? Answer gold or silver.",
    expectedAnswer: "gold",
    matchType: "exact",
  },
  {
    id: "L23",
    subject: "logic",
    difficulty: "medium",
    text: "A store puts an item on sale at 20% off, then offers an additional 10% off the sale price. What is the total percentage discount from the original price?",
    expectedAnswer: "28",
    matchType: "exact",
  },
  // Hard
  {
    id: "L5",
    subject: "logic",
    difficulty: "hard",
    text: "On an island, truth-tellers always tell the truth and liars always lie. You meet three islanders: A, B, and C. A says 'Exactly one of us is a liar.' B says 'Exactly one of us is a liar.' C says 'Exactly two of us are liars.' How many of them are liars?",
    expectedAnswer: "1",
    matchType: "exact",
  },
  {
    id: "L9",
    subject: "logic",
    difficulty: "hard",
    text: "Five houses in a row, each a different color (red, green, white, blue, yellow). The Brit lives in the red house. The Swede has a dog. The Dane drinks tea. The green house is immediately left of the white house. The green house owner drinks coffee. The person with Pall Mall smokes birds. The yellow house owner smokes Dunhill. The man in the center drinks milk. The Norwegian lives in the first house. The Blend smoker lives next to the cat owner. The horse owner lives next to the Dunhill smoker. The BlueMaster smoker drinks beer. The German smokes Prince. The Norwegian lives next to the blue house. The Blend smoker has a neighbor who drinks water. Who owns the fish?",
    expectedAnswer: "german",
    matchType: "exact",
  },
  {
    id: "L10",
    subject: "logic",
    difficulty: "hard",
    text: "Given: P implies Q. Q implies R. R implies S. P is true. Is S true? Answer yes or no.",
    expectedAnswer: "yes",
    matchType: "exact",
  },
  {
    id: "L24",
    subject: "logic",
    difficulty: "hard",
    text: "Four people must cross a bridge at night. They have one torch; at most two can cross at once. Their crossing times are 1, 2, 5, and 10 minutes. When two cross, they travel at the slower person's pace. The torch must be walked back (not thrown). What is the minimum total time in minutes to get everyone across?",
    expectedAnswer: "17",
    matchType: "exact",
  },
  {
    id: "L25",
    subject: "logic",
    difficulty: "hard",
    text: "100 lockers are all closed. Student 1 opens every locker. Student 2 toggles every 2nd locker. Student 3 toggles every 3rd locker. This continues through student 100. How many lockers are open at the end?",
    expectedAnswer: "10",
    matchType: "exact",
  },
  {
    id: "L26",
    subject: "logic",
    difficulty: "hard",
    text: "You have 25 horses and 5 race tracks (5 horses per race). You have no stopwatch — only relative finishing positions. What is the minimum number of races needed to determine the top 3 fastest horses?",
    expectedAnswer: "7",
    matchType: "exact",
  },
  {
    id: "L27",
    subject: "logic",
    difficulty: "hard",
    text: "In the Monty Hall problem: there are 3 doors (1 car, 2 goats). You pick door 1. The host opens door 3 to reveal a goat. You switch to door 2. What is the probability you win the car? Express as a fraction.",
    expectedAnswer: "2/3",
    matchType: "exact",
  },
  {
    id: "L28",
    subject: "logic",
    difficulty: "hard",
    text: "21 coins on a table. Two players alternate turns, each taking 1, 2, or 3 coins. The player who takes the last coin wins. Player 1 goes first. With perfect play, who wins? Answer player 1 or player 2.",
    expectedAnswer: "player 1",
    matchType: "includes",
  },
  {
    id: "L29",
    subject: "logic",
    difficulty: "hard",
    text: "A store first raises the price of an item by 25%, then reduces it by 20%. What is the net percentage change from the original price?",
    expectedAnswer: "0",
    matchType: "exact",
  },
  {
    id: "L30",
    subject: "logic",
    difficulty: "hard",
    text: "At a party, every person shakes hands with every other person exactly once. There are 45 handshakes in total. How many people are at the party?",
    expectedAnswer: "10",
    matchType: "exact",
  },

  // ── Coding ────────────────────────────────────────────────────────────────
  // Easy
  {
    id: "C1",
    subject: "coding",
    difficulty: "easy",
    text: "What does this Python expression evaluate to?\n[x for x in range(10) if x % 2 == 0 and x > 5]\nAnswer with the list, e.g. [1, 2].",
    expectedAnswer: "[6, 8]",
    matchType: "exact",
  },
  {
    id: "C2",
    subject: "coding",
    difficulty: "easy",
    text: "In JavaScript, what does `typeof null` return? Answer with the exact string.",
    expectedAnswer: "object",
    matchType: "exact",
  },
  {
    id: "C6",
    subject: "coding",
    difficulty: "easy",
    text: "In JavaScript, what does `0.1 + 0.2 === 0.3` evaluate to? Answer true or false.",
    expectedAnswer: "false",
    matchType: "exact",
  },
  {
    id: "C7",
    subject: "coding",
    difficulty: "easy",
    text: "What does `print(type([]))` output in Python? Answer with the exact output string.",
    expectedAnswer: "list",
    matchType: "includes",
  },
  {
    id: "C11",
    subject: "coding",
    difficulty: "easy",
    text: "What does `len(\"hello world\")` return in Python?",
    expectedAnswer: "11",
    matchType: "exact",
  },
  {
    id: "C12",
    subject: "coding",
    difficulty: "easy",
    text: "What does `print(2 ** 8)` output in Python?",
    expectedAnswer: "256",
    matchType: "exact",
  },
  {
    id: "C13",
    subject: "coding",
    difficulty: "easy",
    text: 'What does `"hello"[1]` evaluate to in Python? Answer with the single character.',
    expectedAnswer: "e",
    matchType: "exact",
  },
  {
    id: "C14",
    subject: "coding",
    difficulty: "easy",
    text: "What does `bool(0)` return in Python? Answer True or False.",
    expectedAnswer: "false",
    matchType: "exact",
  },
  {
    id: "C15",
    subject: "coding",
    difficulty: "easy",
    text: 'In JavaScript, what does `"5" + 3` evaluate to? Answer with the exact value.',
    expectedAnswer: "53",
    matchType: "exact",
  },
  {
    id: "C16",
    subject: "coding",
    difficulty: "easy",
    text: "What does `x[-1]` evaluate to in Python if `x = [1, 2, 3]`?",
    expectedAnswer: "3",
    matchType: "exact",
  },
  // Medium
  {
    id: "C3",
    subject: "coding",
    difficulty: "medium",
    text: "What is the time complexity of binary search on a sorted array of n elements? Answer in Big-O notation.",
    expectedAnswer: "O(log n)",
    matchType: "exact",
  },
  {
    id: "C4",
    subject: "coding",
    difficulty: "medium",
    text: "Trace bubble sort on [5, 3, 1, 4, 2]. What is the array after the first complete pass?",
    expectedAnswer: "[3, 1, 4, 2, 5]",
    matchType: "exact",
  },
  {
    id: "C8",
    subject: "coding",
    difficulty: "medium",
    text: "Trace this Python code and give the final value of `s`:\n```\ns = 0\nfor i in range(1, 5):\n    s += i * i\n```",
    expectedAnswer: "30",
    matchType: "exact",
  },
  {
    id: "C9",
    subject: "coding",
    difficulty: "medium",
    text: 'What does `"abc"[::-1]` evaluate to in Python? Answer with the exact string (no quotes).',
    expectedAnswer: "cba",
    matchType: "exact",
  },
  {
    id: "C17",
    subject: "coding",
    difficulty: "medium",
    text: "Trace the naive recursive Fibonacci function `fib(n) = fib(n-1) + fib(n-2)` with `fib(0)=0, fib(1)=1`. What is `fib(6)`?",
    expectedAnswer: "8",
    matchType: "exact",
  },
  {
    id: "C18",
    subject: "coding",
    difficulty: "medium",
    text: "What does this JavaScript code print?\n```javascript\nvar x = 1;\nfunction foo() { var x = 2; return x; }\nconsole.log(foo() + x);\n```",
    expectedAnswer: "3",
    matchType: "exact",
  },
  {
    id: "C19",
    subject: "coding",
    difficulty: "medium",
    text: 'What does this function return?\n```python\ndef count(s, c):\n    return sum(1 for ch in s if ch == c)\ncount("mississippi", "s")\n```',
    expectedAnswer: "4",
    matchType: "exact",
  },
  {
    id: "C20",
    subject: "coding",
    difficulty: "medium",
    text: "Merge sort is applied to [8, 3, 5, 1]. The array is recursively split and pairs are sorted. What is the state of the array after both pairs [8,3] and [5,1] have been individually sorted, but before the final merge? Answer as a list.",
    expectedAnswer: "3, 8, 1, 5",
    matchType: "includes",
  },
  {
    id: "C21",
    subject: "coding",
    difficulty: "medium",
    text: "What is the average-case time complexity of inserting a key into a hash table? Answer in Big-O notation.",
    expectedAnswer: "O(1)",
    matchType: "exact",
  },
  {
    id: "C22",
    subject: "coding",
    difficulty: "medium",
    text: "What does this Python code print?\n```python\nnums = [1, 2, 3, 4, 5]\nprint(nums[1:4])\n```",
    expectedAnswer: "[2, 3, 4]",
    matchType: "exact",
  },
  // Hard
  {
    id: "C5",
    subject: "coding",
    difficulty: "hard",
    text: "How many times is fib(2) called when computing fib(5) using the naive recursive Fibonacci function (fib(n) = fib(n-1) + fib(n-2), fib(0)=0, fib(1)=1)?",
    expectedAnswer: "3",
    matchType: "exact",
  },
  {
    id: "C10",
    subject: "coding",
    difficulty: "hard",
    text: "You have a stack (initially empty). You push 1, 2, 3 in order, then pop once, then push 4. What is the value at the top of the stack?",
    expectedAnswer: "4",
    matchType: "exact",
  },
  {
    id: "C23",
    subject: "coding",
    difficulty: "hard",
    text: "How many total times is `foo` called (including the initial call) when evaluating `foo(4)`?\n```python\ndef foo(n):\n    if n == 0: return\n    foo(n - 1)\n    foo(n - 1)\n```",
    expectedAnswer: "31",
    matchType: "exact",
  },
  {
    id: "C24",
    subject: "coding",
    difficulty: "hard",
    text: "What does this JavaScript code print?\n```javascript\nconst arr = [1, 2, 3];\nconst result = arr.reduce((acc, val) => acc + val, 10);\nconsole.log(result);\n```",
    expectedAnswer: "16",
    matchType: "exact",
  },
  {
    id: "C25",
    subject: "coding",
    difficulty: "hard",
    text: "Nodes are inserted into a binary search tree in this order: 5, 3, 7, 1, 4. What is the in-order traversal of the resulting tree? List values separated by commas.",
    expectedAnswer: "1, 3, 4, 5, 7",
    matchType: "includes",
  },
  {
    id: "C26",
    subject: "coding",
    difficulty: "hard",
    text: "What does this function return when called as `mystery([1, 2, 3, 4, 5])`?\n```python\ndef mystery(lst):\n    if not lst: return 0\n    return lst[0] + mystery(lst[1:])\n```",
    expectedAnswer: "15",
    matchType: "exact",
  },
  {
    id: "C27",
    subject: "coding",
    difficulty: "hard",
    text: "What does this Python code print?\n```python\nclass Foo:\n    x = 0\n    def __init__(self): Foo.x += 1\na = Foo(); b = Foo(); c = Foo()\nprint(Foo.x)\n```",
    expectedAnswer: "3",
    matchType: "exact",
  },
  {
    id: "C28",
    subject: "coding",
    difficulty: "hard",
    text: "What does this JavaScript code print?\n```javascript\nfunction makeAdder(x) { return function(y) { return x + y; }; }\nconst add5 = makeAdder(5);\nconsole.log(add5(3));\n```",
    expectedAnswer: "8",
    matchType: "exact",
  },
  {
    id: "C29",
    subject: "coding",
    difficulty: "hard",
    text: "What does this Python code print?\n```python\nresult = []\nfor i in range(3):\n    for j in range(3):\n        if i != j: result.append(i * j)\nprint(sum(result))\n```",
    expectedAnswer: "4",
    matchType: "exact",
  },
  {
    id: "C30",
    subject: "coding",
    difficulty: "hard",
    text: "What does this Python code print?\n```python\nd = {}\nfor i in range(5):\n    d[i % 3] = i\nprint(len(d))\n```",
    expectedAnswer: "3",
    matchType: "exact",
  },

  // ── Reasoning ─────────────────────────────────────────────────────────────
  // Easy
  {
    id: "R1",
    subject: "reasoning",
    difficulty: "easy",
    text: "A farmer has 17 sheep. All but 8 die. How many sheep does the farmer have left?",
    expectedAnswer: "8",
    matchType: "exact",
  },
  {
    id: "R2",
    subject: "reasoning",
    difficulty: "easy",
    text: "How many letters are in the word PACIFIC? Count carefully.",
    expectedAnswer: "7",
    matchType: "exact",
  },
  {
    id: "R6",
    subject: "reasoning",
    difficulty: "easy",
    text: "How many months of the year have 28 days?",
    expectedAnswer: "12",
    matchType: "exact",
  },
  {
    id: "R7",
    subject: "reasoning",
    difficulty: "easy",
    text: "You are running a race. You overtake the person in 2nd place. What place are you in now?",
    expectedAnswer: "2",
    matchType: "exact",
  },
  {
    id: "R11",
    subject: "reasoning",
    difficulty: "easy",
    text: "You have a 10-liter bucket that is half full of water. How many liters of water are in it?",
    expectedAnswer: "5",
    matchType: "exact",
  },
  {
    id: "R12",
    subject: "reasoning",
    difficulty: "easy",
    text: "A rooster sits on the peak of a barn roof and lays an egg. Which side of the roof does the egg roll down?",
    expectedAnswer: "don't lay",
    matchType: "includes",
  },
  {
    id: "R13",
    subject: "reasoning",
    difficulty: "easy",
    text: "I have two coins that together total 30 cents. One of them is not a nickel. What are the two coins?",
    expectedAnswer: "nickel",
    matchType: "includes",
  },
  {
    id: "R14",
    subject: "reasoning",
    difficulty: "easy",
    text: "A doctor gives you 3 pills and tells you to take one every half hour. How many minutes will it take until you have taken all 3 pills?",
    expectedAnswer: "60",
    matchType: "exact",
  },
  {
    id: "R15",
    subject: "reasoning",
    difficulty: "easy",
    text: "A plane crashes exactly on the border between the United States and Canada. In which country do they bury the survivors?",
    expectedAnswer: "survivors",
    matchType: "includes",
  },
  {
    id: "R16",
    subject: "reasoning",
    difficulty: "easy",
    text: "What is always in front of you but can never be seen?",
    expectedAnswer: "future",
    matchType: "includes",
  },
  // Medium
  {
    id: "R3",
    subject: "reasoning",
    difficulty: "medium",
    text: "A bat and a ball cost 1.10 in total. The bat costs 1.00 more than the ball. How many cents does the ball cost?",
    expectedAnswer: "5",
    matchType: "exact",
  },
  {
    id: "R4",
    subject: "reasoning",
    difficulty: "medium",
    text: "You have two ropes, each of which takes exactly 1 hour to burn (but burns unevenly). How can you measure exactly 45 minutes? Describe the method in one sentence.",
    expectedAnswer: "light both ends of one rope and one end of the other simultaneously",
    matchType: "includes",
  },
  {
    id: "R8",
    subject: "reasoning",
    difficulty: "medium",
    text: "There are 3 light switches outside a room. One controls a bulb inside. You can only enter the room once. How do you determine which switch controls the bulb? Describe in one sentence.",
    expectedAnswer: "feel the bulb",
    matchType: "includes",
  },
  {
    id: "R9",
    subject: "reasoning",
    difficulty: "medium",
    text: "A boy's father is a surgeon. The boy is rushed to the ER. The surgeon says 'I cannot operate on this boy — he is my son.' The surgeon is not the boy's father. How is this possible? Answer in a few words.",
    expectedAnswer: "mother",
    matchType: "includes",
  },
  {
    id: "R17",
    subject: "reasoning",
    difficulty: "medium",
    text: "A snail is at the bottom of a 10-meter well. Each day it climbs 3 meters; each night it slides back 2 meters. On which day does it first reach the top?",
    expectedAnswer: "8",
    matchType: "exact",
  },
  {
    id: "R18",
    subject: "reasoning",
    difficulty: "medium",
    text: "Alice is Bob's sister. Bob is Carol's brother. Carol is Dave's sister. How is Alice related to Dave? Answer in one or two words.",
    expectedAnswer: "sister",
    matchType: "includes",
  },
  {
    id: "R19",
    subject: "reasoning",
    difficulty: "medium",
    text: "A man is looking at a portrait and says: 'Brothers and sisters have I none, but that man's father is my father's son.' Whose portrait is he looking at? Answer in one word.",
    expectedAnswer: "son",
    matchType: "includes",
  },
  {
    id: "R20",
    subject: "reasoning",
    difficulty: "medium",
    text: "Two trains are 200 km apart and travel toward each other. One goes 70 km/h and the other 30 km/h. When they meet, how far in km has the faster train traveled?",
    expectedAnswer: "140",
    matchType: "exact",
  },
  {
    id: "R21",
    subject: "reasoning",
    difficulty: "medium",
    text: "A farmer needs to cross a river with a fox, a chicken, and a bag of grain. The boat holds only himself and one item. The fox will eat the chicken if left alone, and the chicken will eat the grain if left alone. What is the minimum number of one-way river crossings needed?",
    expectedAnswer: "7",
    matchType: "exact",
  },
  {
    id: "R22",
    subject: "reasoning",
    difficulty: "medium",
    text: "An analog clock shows exactly 3:15. What is the angle in degrees between the hour and minute hands?",
    expectedAnswer: "7.5",
    matchType: "exact",
  },
  // Hard
  {
    id: "R5",
    subject: "reasoning",
    difficulty: "hard",
    text: "100 pirates vote on splitting 100 gold coins. The most senior pirate proposes a split; if at least 50% agree it passes, otherwise the proposer is thrown overboard and the next pirate proposes. All pirates are perfectly rational and prefer more gold, then survival, then killing others. How many coins does the most senior pirate propose to keep for themselves?",
    expectedAnswer: "98",
    matchType: "exact",
  },
  {
    id: "R10",
    subject: "reasoning",
    difficulty: "hard",
    text: "You have a 3-liter jug and a 5-liter jug (no markings). You need to measure exactly 4 liters of water. What is the minimum number of pouring steps required?",
    expectedAnswer: "6",
    matchType: "exact",
  },
  {
    id: "R23",
    subject: "reasoning",
    difficulty: "hard",
    text: "21 coins on a table. Two players alternate turns, each taking 1, 2, or 3 coins. The player who takes the LAST coin LOSES. Player 1 goes first. With perfect play, who wins? Answer player 1 or player 2.",
    expectedAnswer: "player 2",
    matchType: "includes",
  },
  {
    id: "R24",
    subject: "reasoning",
    difficulty: "hard",
    text: "A blindfolded person has 52 cards, 13 face up and 39 face down. They cannot feel which side is up. They must split the cards into two groups so that both groups contain the same number of face-up cards. Describe the strategy in one sentence.",
    expectedAnswer: "flip",
    matchType: "includes",
  },
  {
    id: "R25",
    subject: "reasoning",
    difficulty: "hard",
    text: "A clock gains exactly 5 minutes every hour. It shows the correct time at 12:00 PM. What time does the clock display when the true time is 6:00 PM?",
    expectedAnswer: "6:30",
    matchType: "includes",
  },
  {
    id: "R26",
    subject: "reasoning",
    difficulty: "hard",
    text: "A lily pad doubles in size every day. After 30 days it covers an entire lake. After how many days does it cover exactly half the lake?",
    expectedAnswer: "29",
    matchType: "exact",
  },
  {
    id: "R27",
    subject: "reasoning",
    difficulty: "hard",
    text: "You have 12 balls that look identical. One is slightly different in weight (either heavier or lighter — you don't know which). Using a balance scale, what is the minimum number of weighings needed to identify the odd ball AND determine whether it is heavier or lighter?",
    expectedAnswer: "3",
    matchType: "exact",
  },
  {
    id: "R28",
    subject: "reasoning",
    difficulty: "hard",
    text: "Modified Monty Hall with 4 doors: 1 has a car, 3 have goats. You pick door 1. The host reveals one goat behind door 3. You then randomly switch to one of the remaining 2 closed doors. What is the probability you win the car? Express as a fraction.",
    expectedAnswer: "3/8",
    matchType: "exact",
  },
  {
    id: "R29",
    subject: "reasoning",
    difficulty: "hard",
    text: "What is the expected number of times you must flip a fair coin to get 2 consecutive heads?",
    expectedAnswer: "6",
    matchType: "exact",
  },
  {
    id: "R30",
    subject: "reasoning",
    difficulty: "hard",
    text: "You and a friend take turns picking numbers from 1 to 10. The numbers add to a running total starting at 0. The first player to bring the total to exactly 100 wins. You go first. What number should you pick on your first turn to guarantee a win with perfect play?",
    expectedAnswer: "1",
    matchType: "exact",
  },
];

function shuffle<T>(arr: T[]): T[] {
  const a = [...arr];
  for (let i = a.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [a[i], a[j]] = [a[j], a[i]];
  }
  return a;
}

// Stratified sample: count questions evenly across 4 subjects and 3 difficulty levels.
// count must be divisible by 4 (5 per subject for 20, 10 per subject for 40).
export function getRandomQuestions(count: 10 | 20 | 40): Question[] {
  const subjects = ["math", "logic", "coding", "reasoning"] as const;
  const difficulties = ["easy", "medium", "hard"] as const;
  const perSubject = Math.floor(count / subjects.length);
  const subjectRemainder = count - perSubject * subjects.length;

  const selected: Question[] = [];
  for (let si = 0; si < subjects.length; si++) {
    const subject = subjects[si];
    const subjectCount = perSubject + (si < subjectRemainder ? 1 : 0);
    const perDifficulty = Math.floor(subjectCount / difficulties.length);
    const diffRemainder = subjectCount - perDifficulty * difficulties.length;

    for (let di = 0; di < difficulties.length; di++) {
      const difficulty = difficulties[di];
      const pool = shuffle(QUESTIONS.filter((q) => q.subject === subject && q.difficulty === difficulty));
      const take = perDifficulty + (di < diffRemainder ? 1 : 0);
      selected.push(...pool.slice(0, take));
    }
  }

  return shuffle(selected);
}
